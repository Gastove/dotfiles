#!/bin/bash

run_pip() {

    # Make sure we're using a recent version of pip

    if [[ on_ubuntu && ! "$(pip list)" ]]; then
        printf "Updating pip"
        curl -fsSL https://raw.github.com/pypa/pip/master/contrib/get-pip.py | sudo python
    fi

    local -a desired_pip_packages=(
        'distribute --upgrade'
        'flake8'
        'virtualenv'
        'virtualenvwrapper'
        'httpie'
        'Pygments'
        'pip'
    )

    # OSX Needs certain pip packages Debian can get from apt
    if [[ on_osx ]]; then
        desired_pip_packages+=(
            'scipy'
            'matplotlib'
            'pyzmq'
            'readline'
            'ipython'
            'pandas'
            'jinja2'
            'rope'
            'jedi'
            'importmagic'
            'autopep8'
            'yapf'
        )
    fi

    for index in ${!desired_pip_packages[*]}
    do
        pip install --upgrade ${desired_pip_packages[index]}
    done

    unset desired_pip_packages

}
